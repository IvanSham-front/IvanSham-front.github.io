(this.webpackJsonpadaptaki=this.webpackJsonpadaptaki||[]).push([[0],{15:function(e,t,s){},16:function(e,t,s){},17:function(e,t,s){},18:function(e,t,s){"use strict";s.r(t);var n=s(0),c=s(1),a=s.n(c),i=s(5),o=s.n(i),u=s(4),r=s(2),l=s(6),m=s(7),d=s(9),b=s(8),h=(s(15),s(16),s(17),function(e){Object(d.a)(s,e);var t=Object(b.a)(s);function s(e){var n;Object(l.a)(this,s),(n=t.call(this,e)).postDateToServe=function(e,t,s,n){var c={};if(0===Object.keys(e).length||0===Object.keys(t).length)alert("\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u044d\u043a\u0437\u0430\u043c\u0435\u043d \u0438 \u043f\u0440\u0435\u0434\u043c\u0435\u0442");else{if(c.exam=Number(e),c.subject=Number(t),0===s.length)c.questions=[],c.questions.push({num:Number(s),count:Number(n)});else if(s.length>1)for(var a in c.questions=[],s)c.questions.push({num:Number(s[a]),count:Number(n[a])});fetch("https://stagging.adaptaki.ru/api/utrs/",{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8",Authorization:"Token 7ecb81f446fb4decf08d59d8616d828d45822e02"},body:JSON.stringify(c)}).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){console.error(e.name+" \u041e\u0428\u0418\u0411\u041a\u0410 "+e.massage)}))}},n.genereteAndSendVariant=function(e){var t,s={exam:7,subject:5,questions:[]},n=e.filter((function(e){return e.questions_count>0}));s.questions.push({num:(t=20,Math.floor(Math.random()*Math.floor(t))),themes:[]}),n.map((function(e,t){s.questions[0].themes.push({id:n[t].id,count:n[t].questions_count})}));fetch("https://stagging.adaptaki.ru/api/utrs/",{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8",Authorization:"Token 7ecb81f446fb4decf08d59d8616d828d45822e02"},body:JSON.stringify(s)}).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){console.error(e.name+" \u041e\u0428\u0418\u0411\u041a\u0410 "+e.massage)}))},n.state={data:[],isLoaded:!1,content:{exams:[],subjects:[],numbers:[],themes:[]},exam:{},subject:{},num:[],all_questions_count:[]};return window.onload=function(){fetch("https://stagging.adaptaki.ru/api/tags/tree/",{headers:{Authorization:"Token 7ecb81f446fb4decf08d59d8616d828d45822e02"}}).then((function(e){return e.json()})).then((function(e){n.setState({data:e});var t=n.state.data.exams,s=n.state.content;for(var c in t)for(var a in s.exams.push({title:t[c].title,id:c}),t[c].subjects){var i=t[c].subjects[a];for(var o in s.subjects.push({title:i.title,id:a}),i.nums){var u=i.nums[o];for(var l in s.numbers.push({num:o,all_questions_count:u.all_questions_count}),u.themes){s.themes.push(u.themes[l]);var m=Object(r.a)({},n.state.content);m.themes[l].questions_count=0,n.setState({content:m})}}}n.setState({isLoaded:!0})})).catch((function(e){console.error(e.name+" \u041e\u0428\u0418\u0411\u041a\u0410 "+e.massage)}))},n}return Object(m.a)(s,[{key:"render",value:function(){var e=this,t=this.state,s=t.isLoaded,c=t.content;return s?Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)("h1",{className:"title",children:"Adaptaki"}),Object(n.jsxs)("div",{className:"block",children:[Object(n.jsx)("h2",{className:"h2 examens__title",children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u044d\u043a\u0437\u0430\u043c\u0435\u043d: "}),Object(n.jsx)("ul",{className:"list",children:c.exams.map((function(t,s){return Object(n.jsx)("li",{className:"examens__item",children:Object(n.jsx)("a",{className:"examens__link link",href:"#",onClick:function(t){t.preventDefault(),e.setState({exam:c.exams[s].id})},children:c.exams[s].title})},s)}))})]}),Object(n.jsxs)("div",{className:"block",children:[Object(n.jsx)("h2",{className:"h2",children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u0440\u0435\u0434\u043c\u0435\u0442:"}),Object(n.jsx)("ul",{className:"list",children:c.subjects.map((function(t,s){return Object(n.jsx)("li",{className:"subjects__item",children:Object(n.jsx)("a",{href:"#",className:"subjects__link link",onClick:function(t){t.preventDefault(),e.setState({subject:c.subjects[s].id})},children:c.subjects[s].title})},s)}))})]}),Object(n.jsxs)("div",{className:"block numbers",children:[Object(n.jsx)("h2",{className:"h2",children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043d\u043e\u043c\u0435\u0440 \u0437\u0430\u0434\u0430\u043d\u0438\u044f"}),Object(n.jsx)("ul",{className:"list number__list",children:c.numbers.map((function(t,s){return Object(n.jsx)("li",{className:"item",children:Object(n.jsx)("a",{href:"#",className:"link",onClick:function(t){t.preventDefault(),void 0===e.state.num.find((function(e){return e===c.numbers[s].num}))&&e.setState((function(e){return{num:[].concat(Object(u.a)(e.num),[c.numbers[s].num]),all_questions_count:[].concat(Object(u.a)(e.all_questions_count),[c.numbers[s].all_questions_count])}}))},children:c.numbers[s].num})},s)}))})]}),Object(n.jsx)("button",{className:"btn",onClick:function(){e.postDateToServe(e.state.exam,e.state.subject,e.state.num,e.state.all_questions_count)},children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"}),Object(n.jsxs)("div",{className:"block",children:[Object(n.jsx)("h2",{className:"h2",children:"\u041a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440 \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u0430 \u0441 \u0437\u0430\u0434\u0430\u043d\u0438\u044f\u043c\u0438"}),Object(n.jsx)("ul",{className:"themes",children:c.themes.map((function(t,s){return Object(n.jsxs)("li",{className:"themes__item",children:[Object(n.jsx)("span",{className:"themes__span",children:c.themes[s].title}),Object(n.jsxs)("div",{className:"themes__numbers",children:[Object(n.jsx)("button",{className:"themes__btn",onClick:function(){var t=Object(r.a)({},e.state.content);t.themes[s].questions_count>0&&(t.themes[s].questions_count--,e.setState({content:t}))},children:"-"}),Object(n.jsx)("span",{className:"link",children:c.themes[s].questions_count}),Object(n.jsx)("button",{className:"themes__btn",onClick:function(){var t=Object(r.a)({},e.state.content);t.themes[s].questions_count++,e.setState({content:t})},children:"+"})]})]},s)}))}),Object(n.jsx)("button",{className:"btn",onClick:function(){return e.genereteAndSendVariant(c.themes)},children:"\u0421\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0432\u043e\u0439 \u0432\u0430\u0440\u0438\u0430\u043d\u0442"})]})]}):Object(n.jsxs)("div",{id:"floatingBarsG",children:[Object(n.jsx)("div",{className:"blockG",id:"rotateG_01"}),Object(n.jsx)("div",{className:"blockG",id:"rotateG_02"}),Object(n.jsx)("div",{className:"blockG",id:"rotateG_03"}),Object(n.jsx)("div",{className:"blockG",id:"rotateG_04"}),Object(n.jsx)("div",{className:"blockG",id:"rotateG_05"}),Object(n.jsx)("div",{className:"blockG",id:"rotateG_06"}),Object(n.jsx)("div",{className:"blockG",id:"rotateG_07"}),Object(n.jsx)("div",{className:"blockG",id:"rotateG_08"})]})}}]),s}(a.a.Component)),j=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,19)).then((function(t){var s=t.getCLS,n=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;s(e),n(e),c(e),a(e),i(e)}))};o.a.render(Object(n.jsx)(a.a.StrictMode,{children:Object(n.jsx)(h,{})}),document.getElementById("root")),j()}},[[18,1,2]]]);
//# sourceMappingURL=main.e05f4764.chunk.js.map